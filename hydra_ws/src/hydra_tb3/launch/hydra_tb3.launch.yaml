---
# Assumes the input camera has the following topics:
#   - color image: /camera/image_raw
#   - color info:  /camera/camera_info
#   - depth image: /camera/depth/image_raw
launch:
  - set_remap: {from: hydra/input/camera/rgb/image_raw, to: /camera/image_raw}
  - set_remap: {from: hydra/input/camera/rgb/camera_info, to: /camera/camera_info}
  - set_remap: {from: hydra/input/camera/depth_registered/image_rect, to: /camera/depth/image_raw}
  - set_remap: {from: hydra/input/camera/semantic/image_raw, to: /} #semantic topic
  - node:  # hydra
      pkg: hydra_ros
      exec: hydra_ros_node
      name: hydra
      args: >
        --config-utilities-file $(find-pkg-share hydra_tb3)/config/hydra_tb3.yaml
        --config-utilities-file $(find-pkg-share hydra_tb3)/label_spaces/house.yaml
        --config-utilities-yaml {log_path: $(env HOME)/.hydra/house}
  - set_remap: {from: hydra_visualizer/dsg, to: hydra/backend/dsg}
  - include:  # visualization
      file: $(find-pkg-share hydra_visualizer)/launch/streaming_visualizer.launch.yaml
